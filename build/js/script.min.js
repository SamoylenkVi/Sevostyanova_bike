"use strict";const regexPhoneSubmit=/^(\+7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/,regexPhoneInput=/[^-\d\s/(/)]/gi,headerToggle=document.querySelector(".header__toggle"),navigation=document.querySelector(".navigation"),headerIcon=document.querySelector(".header__icon"),header=document.querySelector(".header"),inputPhone=document.querySelector("#phone"),inputName=document.querySelector("#name"),form=document.querySelector(".promo__form"),validate=()=>{inputPhone&&inputPhone.addEventListener("input",()=>{inputPhone.value=inputPhone.value.replaceAll(regexPhoneInput,"")}),form&&inputName&&inputPhone&&form.addEventListener("submit",e=>{const n=-1!==inputPhone.value.search(regexPhoneSubmit),t=0!==inputName.value.length;n&&t||e.preventDefault(),n?inputPhone.classList.remove("invalid"):inputPhone.classList.add("invalid"),t?inputName.classList.remove("invalid"):inputName.classList.add("invalid")})};function throttle(e,n,t=!1){let i=null,o=!0;return function(){const a=t&&o,s=()=>{e.apply(this,arguments),i=null};a&&(o=!1,s()),i||(i=setTimeout(s,n))}}inputPhone&&inputPhone.addEventListener("input",()=>{inputPhone.value=inputPhone.value.replaceAll(regexPhoneInput,"")}),form&&inputName&&inputPhone&&form.addEventListener("submit",e=>{const n=-1!==inputPhone.value.search(regexPhoneSubmit),t=0!==inputName.value.length;n&&t||e.preventDefault(),n?inputPhone.classList.remove("invalid"):inputPhone.classList.add("invalid"),t?inputName.classList.remove("invalid"):inputName.classList.add("invalid")});const checkYOffset=()=>{window.pageYOffset>0?header.classList.add("header--scroll"):header.classList.remove("header--scroll")};headerToggle.classList.remove("header__toggle--no-js"),navigation.classList.add("navigation--close"),headerToggle.addEventListener("click",()=>{headerToggle&&(headerToggle.classList.toggle("header__toggle--open"),headerIcon.classList.toggle("header__icon--open"),navigation.classList.toggle("navigation--open"),navigation.classList.toggle("navigation--close"),document.body.classList.toggle("fixed"))}),window.addEventListener("scroll",throttle(checkYOffset,300)),inputPhone.addEventListener("input",()=>{});